# Changes Log

This file tracks all changes made to the codebase with commit information. Use this to organize and split commits before pushing to a branch or main.

## Format

Each entry should include:
- **Date**: When the change was made
- **Type**: Type of change (fix, feature, refactor, style, docs, etc.)
- **Description**: What was changed
- **Files**: List of files affected
- **Commit Message**: Suggested commit message
- **Status**: Pending, Committed, Pushed

---

## Recent Changes

### 2025-01-XX - Replace currency input with shadcn/ui Combobox
- **Type**: Feature
- **Description**: Replaced the searchable currency input (Input + datalist) with shadcn/ui Combobox component using Popover and Command components for better UX.
- **Files**: 
  - `src/App.jsx` (replaced Input+datalist with Combobox pattern)
  - `src/components/ui/command.jsx` (added via shadcn CLI)
  - `src/components/ui/popover.jsx` (added via shadcn CLI)
  - `package.json` (added lucide-react dependency)
- **Commit Message**: 
  ```
  Replace currency input with shadcn/ui Combobox component

  - Install Command and Popover components from shadcn/ui
  - Add lucide-react for Check and ChevronsUpDown icons
  - Replace Input + datalist with Combobox pattern
  - Improve currency selection UX with searchable dropdown
  ```
- **Status**: Pending

---

## Recent Changes

### 2025-11-21 - Currency Punctuation Parsing Fix
- **Type**: Fix
- **Description**: Fixed currency parsing to detect format by pattern instead of currency symbol. Handles Google results showing BRL in USD format.
- **Files**: 
  - `content.js` (format detection logic, lines 86-174)
- **Commit Message**: 
  ```
  Fix currency punctuation parsing for different number formats

  - Add format detection by pattern matching instead of currency symbol
  - Handle Google results showing BRL in USD format (R$2,789.07)
  - Fix parsing for Brazilian/European vs USD format detection
  - Resolve discrepancy between Google homepage and website prices
  ```
- **Status**: ✅ Committed & Pushed

---

### 2025-11-21 - Time Formatting Display Improvements
- **Type**: Enhancement
- **Description**: Improved time display formatting to show minutes when less than 1 hour, and use 0h0m and 0d0h formats.
- **Files**:
  - `content.js` (formatting logic, lines 191-216)
- **Commit Message**:
  ```
  Improve time formatting display

  - Show minutes only when less than 1 hour (e.g., 48m)
  - Use 0h0m format for hours and minutes (e.g., 2h30m)
  - Use 0d0h format for days and hours (e.g., 2d3h)
  - Remove left-padding zeros for cleaner display
  ```
- **Status**: ✅ Committed & Pushed

---

### 2025-11-21 - Searchable Currency Input
- **Type**: Feature
- **Description**: Converted currency selector to searchable input with datalist. Added real-time filtering by country name, currency code, or symbol.
- **Files**:
  - `popup.js` (search logic, filtering, validation updates)
  - `popup.html` (input element, datalist structure)
- **Commit Message**:
  ```
  Add searchable currency input

  - Convert currency select to searchable input with datalist
  - Add real-time filtering by country name, currency code, or symbol
  - Improve currency selection UX with autocomplete
  - Update validation to handle search input
  ```
- **Status**: ✅ Committed & Pushed

---

### 2025-11-21 - shadcn/ui Design System Update
- **Type**: Style/Refactor
- **Description**: Updated UI components to match shadcn/ui design system patterns. Expanded design tokens, improved focus states, and added accessibility features.
- **Files**:
  - `popup.html` (CSS styling updates, design tokens, component styles)
- **Commit Message**:
  ```
  Update UI to use shadcn/ui design system

  - Expand design tokens to match shadcn/ui standards
  - Update input components with proper focus-visible states
  - Improve button styling with shadcn/ui patterns
  - Enhance card component styling
  - Add accessibility improvements (sr-only labels, ARIA labels)
  - Update transitions and animations to match shadcn/ui
  ```
- **Status**: ✅ Committed (combined with searchable input commit)

---

### 2025-11-21 - Cursor Rules Documentation
- **Type**: Docs
- **Description**: Added cursor rules for design system and currency punctuation handling. Created separate rule files for better organization.
- **Files**:
  - `.cursorrules` (main rules file)
  - `.cursor/rules/design-system.mdc` (design system rules)
  - `.cursor/rules/currency-punctuation.mdc` (currency parsing rules)
  - `.cursor/rules/currency-punctuation.md` (backup/alternative format)
- **Commit Message**:
  ```
  Add cursor rules for design system and currency punctuation

  - Create separate rule files for better organization
  - Add design system rules referencing shadcn/ui documentation
  - Add currency punctuation handling rules
  - Document format detection patterns and pitfalls
  - Reference Next.js, React Router, and React 19 installation docs
  ```
- **Status**: ✅ Committed & Pushed

---

## Commit Organization Guidelines

When preparing to push, review this log and:

1. **Group related changes** - Combine changes that logically belong together
2. **Split large changes** - Break down big features into smaller, focused commits
3. **Order commits logically** - Dependencies first, then dependent changes
4. **Use descriptive messages** - Follow the commit message format with clear summary and bullet points

### Suggested Commit Order

1. **Fixes** - Bug fixes and parsing corrections
2. **Core Features** - Main functionality additions
3. **Enhancements** - Improvements to existing features
4. **Style/UI** - Visual and design updates
5. **Documentation** - Rules, docs, and documentation

---

## Template for New Changes

```markdown
### YYYY-MM-DD - [Brief Title]
- **Type**: [fix/feature/refactor/style/docs]
- **Description**: [What was changed and why]
- **Files**: 
  - `filename.js` (specific lines or sections if applicable)
- **Commit Message**: 
  ```
  [Short summary line]

  - [Detail 1]
  - [Detail 2]
  - [Detail 3]
  ```
- **Status**: ⏳ Pending / ✅ Committed / ✅ Pushed
```

---

## Notes

- Always update this file immediately after making changes
- Mark status as "Committed" after staging/committing locally
- Mark status as "Pushed" after pushing to remote
- Review this file before pushing to organize commits properly

---

### 2025-11-21 - Migrate to React with shadcn/ui Components
- **Type**: Refactor/Feature
- **Description**: Converted popup from vanilla JS to React. Installed React, Vite, Tailwind CSS, and shadcn/ui component dependencies. Created React components using shadcn/ui patterns (Button, Input, Card, Label, Alert). Set up Vite build system for browser extension.
- **Files**:
  - `package.json` (React, Vite, Tailwind dependencies)
  - `vite.config.js` (Vite build configuration)
  - `tailwind.config.js` (Tailwind CSS configuration)
  - `postcss.config.js` (PostCSS configuration)
  - `jsconfig.json` (Path aliases configuration)
  - `src/App.jsx` (Main React component)
  - `src/main.jsx` (React entry point)
  - `src/index.css` (Tailwind CSS and shadcn/ui styles)
  - `src/lib/utils.js` (Utility functions for className merging)
  - `src/data/currencies.js` (Currency data export)
  - `src/components/ui/*.jsx` (shadcn/ui components: Button, Input, Card, Label, Alert)
  - `popup.html` (Updated for React)
  - `.gitignore` (may need updates for build artifacts)
- **Commit Message**:
  ```
  Migrate popup to React with shadcn/ui components

  - Install React, Vite, Tailwind CSS, and shadcn/ui dependencies
  - Convert vanilla JS popup to React component
  - Create shadcn/ui components (Button, Input, Card, Label, Alert)
  - Set up Vite build system for browser extension
  - Configure Tailwind CSS with shadcn/ui design tokens
  - Add path aliases for cleaner imports
  - Export currency data to separate module
  - Update popup.html to use React entry point
  ```
- **Status**: ⏳ Pending

